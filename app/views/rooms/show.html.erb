<h1>Room Details</h1>

<ul>
    <li>Name: <%= @room.name %></li>
    <li>Room type: <%= @room.room_type %></li>
    <li><%= link_to "Edit", edit_room_path, class: "button" %></li>
    <li><%= link_to "Delete!", @room, data: {turbo_method: :delete, turbo_confirm: "Are you really sure?" }, class: "button" %></li>
</ul>

<p><%= link_to "New booking", new_room_booking_path(@room) %></p>

<% if @bookings.present? %>
    <p><%= pluralize(@bookings.size, "Booking") %></p>
    <% @bookings.order("start_time").each do |booking| %>
        <ul>
            <li>Booked by: <%= booking.booked_by %></li>
            <li>Purpose: <%= booking.title %></li>
            <li>Description: <%= booking.description %></li>
            <li>Start datetime: <%= booking.start_time.strftime("%b %d, %y at %I:%M %P") %></li>
            <li>End datetime: <%= booking.end_time.strftime("%b %d, %y at %I:%M %P") %></li>
            <li><%= link_to "Edit", edit_room_booking_path(@room, booking) %></li>
            <li><%= link_to "Delete!", room_booking_path(@room, booking), data: {turbo_method: :delete, turbo_confirm: "Are you really sure?" }, class: "button" %></li>
        </ul>
    <% end %>
<% else %>
    <p>No bookings</p>
<% end %>


<p><%= link_to "back to rooms", rooms_path, class: "button" %></p>